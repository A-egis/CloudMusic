(function(t){function a(a){for(var s,r,o=a[0],c=a[1],l=a[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(a);while(d.length)d.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,o=1;o<e.length;o++){var c=e[o];0!==n[c]&&(s=!1)}s&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},n={app:0},i=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var u=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("4cae")},"04f3":function(t,a,e){},"1af2":function(t,a){t.exports=NProgress},"20ff":function(t,a,e){"use strict";var s=e("a40c"),n=e.n(s);n.a},"21a5":function(t,a,e){"use strict";var s=e("89f3"),n=e.n(s);n.a},3048:function(t,a,e){"use strict";var s=e("04f3"),n=e.n(s);n.a},3633:function(t,a,e){"use strict";var s=e("9994"),n=e.n(s);n.a},4056:function(t,a,e){"use strict";var s=e("d2a8"),n=e.n(s);n.a},"44f4":function(t,a,e){},"4cae":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("8bbf"),n=e.n(s),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"home-container"},[e("el-header",{staticClass:"header"},[e("div",{staticClass:"logo-container",on:{click:t.toHome}},[e("i",{staticClass:"iconfont icon-logo"}),e("span",{staticClass:"logo-title"},[t._v("云音乐")])]),e("div",{staticClass:"forward-container"},[e("i",{staticClass:"iconfont icon-backward",on:{click:function(a){return t.backward()}}}),e("i",{staticClass:"iconfont icon-forward",on:{click:function(a){return t.forward()}}})]),e("div",{staticClass:"search-input-container"},[e("el-input",{attrs:{placeholder:"请输入关键词"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleSearch(a)}},model:{value:t.keywords,callback:function(a){t.keywords=a},expression:"keywords"}},[e("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},on:{click:t.handleSearch},slot:"suffix"})])],1)]),e("div",{staticClass:"content"},[e("el-aside",{staticClass:"nav",attrs:{width:"200px"}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/discover","background-color":"#F5F5F7","text-color":"#000000",router:""}},t._l(t.navList,(function(a){return e("el-menu-item",{key:a.id,staticClass:"menu-item",attrs:{index:a.path}},[e("i",{class:a.icon}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.title))])])})),1)],1),e("el-main",{staticClass:"main"},[e("router-view")],1)],1),e("el-footer",{staticClass:"footer"},[e("div",{staticClass:"player-container"},[e("aplayer",{attrs:{autoplay:"",showLrc:"",repeat:"repeat-one",theme:"#dd6d60",music:t.music,id:"aplayer"}})],1)])],1)])},r=[],o=e("5880"),c=e.n(o),l=e("0f7d"),u=e.n(l),m={name:"app",components:{Aplayer:u.a},data:function(){return{navList:[{id:1,title:"发现音乐",icon:"iconfont icon-discover",path:"/discover"},{id:2,title:"推荐歌单",icon:"iconfont icon-songList",path:"/songList"},{id:3,title:"最新音乐",icon:"iconfont icon-latest",path:"/latest"},{id:4,title:"最新MV",icon:"iconfont icon-mv",path:"/mv"}],keywords:""}},computed:Object(o["mapState"])({music:function(t){return t.music}}),mounted:function(){var t=document.getElementById("aplayer");t.style.overflow="hidden"},methods:{handleSearch:function(){""!=this.keywords&&this.$router.push({path:"/search?keywords=".concat(this.keywords)})},backward:function(){this.$router.go(-1)},forward:function(){this.$router.go(1)},toHome:function(){this.$router.push({path:"/"})}},created:function(){var t=this;sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",(function(){sessionStorage.setItem("store",JSON.stringify(t.$store.state))}))}},d=m,f=(e("5c0b"),e("2877")),p=Object(f["a"])(d,i,r,!1,null,null,null),v=p.exports,h=e("8c4f"),g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container"},[e("el-carousel",{staticClass:"banner",attrs:{interval:4e3,type:"card",height:"230px"}},t._l(t.banners,(function(t){return e("el-carousel-item",{key:t.imageUrl,staticClass:"bannerItem"},[e("a",{staticClass:"bannerLink",attrs:{href:t.url}},[e("img",{attrs:{src:t.imageUrl,alt:t.typeTitle}})])])})),1),e("div",{staticClass:"recommendSonglist"},[e("h3",[t._v(" 推荐歌单 "),e("span",{staticClass:"more"},[e("router-link",{staticClass:"morelink",attrs:{to:"/songList"}},[t._v(" 更多 "),e("i",{staticClass:"iconfont icon-forward"})])],1)]),e("div",{staticClass:"songList"},t._l(t.recommendSongList,(function(t){return e("song-list-item",{key:t.id,attrs:{copywriter:"",songList:t}})})),1)]),e("div",{staticClass:"newMusic"},[e("h3",[t._v(" 最新音乐 "),e("span",{staticClass:"more"},[e("router-link",{staticClass:"morelink",attrs:{to:"/latest"}},[t._v(" 更多 "),e("i",{staticClass:"iconfont icon-forward"})])],1)]),e("div",{staticClass:"musicList"},t._l(t.newMusic,(function(t){return e("song-item",{key:t.id,attrs:{music:t}})})),1)]),e("div",{staticClass:"newMV"},[e("h3",[t._v(" 最新MV "),e("span",{staticClass:"more"},[e("router-link",{staticClass:"morelink",attrs:{to:"/mv"}},[t._v(" 更多 "),e("i",{staticClass:"iconfont icon-forward"})])],1)]),e("div",{staticClass:"MVList"},t._l(t.newMV,(function(t){return e("mv-item",{key:t.id,attrs:{copywriter:"",mv:t}})})),1)])],1)},C=[],y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container",on:{click:t.toPlaylistDetail}},[e("div",{staticClass:"coverContainer"},[t.copywriter?e("header",[t._v(t._s(t.songList.copywriter))]):t._e(),e("div",{staticClass:"views",class:t.copywriter?"viewsToggle":""},[e("i",{staticClass:"iconfont icon-earphone"}),t._v(" "+t._s(t._f("views")(t.songList.playCount))+" ")]),e("img",{attrs:{src:t.songList.picUrl||t.songList.coverImgUrl,alt:t.songList.name}}),e("i",{staticClass:"iconfont icon-play"}),t.creator?e("div",{staticClass:"creator"},[e("i",{staticClass:"iconfont icon-user"}),t._v(" "+t._s(t.songList.creator.nickname)+" ")]):t._e()]),e("div",{staticClass:"title"},[t._v(t._s(t.songList.name))])])},_=[],b={props:{songList:Object,copywriter:{type:Boolean,required:!1,default:!1},creator:{type:Boolean,required:!1,default:!1}},methods:{toPlaylistDetail:function(){this.$router.push({path:"/playlist?id=".concat(this.songList.id)})}}},w=b,k=(e("21a5"),Object(f["a"])(w,y,_,!1,null,"51c36d6e",null)),x=k.exports,L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"cover",on:{click:t.playMusic}},[e("img",{attrs:{src:t.music.picUrl,alt:t.music.name}}),e("i",{staticClass:"iconfont icon-play"})]),e("div",{staticClass:"info"},[e("div",{staticClass:"top-info"},[e("span",{staticClass:"name"},[t._v(t._s(t.music.name)+" "),e("span",{staticClass:"alias"},[t._v(t._s(t._f("alias")(t.music.song.alias)))])]),0!==t.music.song.mvid?e("span",{staticClass:"mv"},[e("router-link",{class:"mvlink",attrs:{to:"/mvplay?id="+t.music.song.mvid}},[e("i",{staticClass:"iconfont icon-mv"})])],1):t._e()]),e("div",{staticClass:"artists"},[t._v(t._s(t._f("artists")(t.music.song.artists)))])])])},M=[],P=(e("b0c0"),e("d3b7"),{props:{music:Object},methods:{playMusic:function(){var t=this;this.getMusic(this.music).then((function(a){t.$store.commit("updateMusic",{music:a})}))},getMusic:function(t){var a=this;return new Promise((function(e){var s=t.id,n={title:t.name,artist:a.$options.filters.artists(t.song.artists),src:"",pic:t.picUrl,lrc:""};axios.get("/lyric?id=".concat(s)).then((function(t){return t.data.lrc&&t.data.lrc.lyric?n.lrc=t.data.lrc.lyric:n.lrc="暂无歌词",axios.get("/song/url?id=".concat(s))})).then((function(t){n.src=t.data.data[0].url,e(n)})).catch((function(t){a.$message.error("获取资源失败")}))}))}}}),S=P,$=(e("dd2c"),Object(f["a"])(S,L,M,!1,null,"db6841dc",null)),V=$.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mvi-container",on:{click:t.toMVDetail}},[e("div",{staticClass:"cover"},[t.copywriter?e("header",[t._v(t._s(t.mv.copywriter))]):t._e(),e("div",{staticClass:"views",class:t.copywriter?"viewsToggle":""},[e("i",{staticClass:"iconfont icon-views"}),t._v(" "+t._s(t._f("views")(t.mv.playCount))+" ")]),e("img",{attrs:{src:t.mv.picUrl||t.mv.cover,alt:t.mv.name}}),t.duration?e("div",{staticClass:"duration"},[t._v(t._s(t._f("duration")(t.mv.duration)))]):t._e()]),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v(t._s(t.mv.name))]),e("div",{staticClass:"artist"},[t._v(t._s(t.mv.artistName))])])])},O=[],j={props:{mv:Object,copywriter:{type:Boolean,required:!1,default:!1},duration:{type:Boolean,required:!1,default:!1}},methods:{toMVDetail:function(){this.$router.push({path:"/mvplay?id=".concat(this.mv.id)})}}},U=j,H=(e("3048"),Object(f["a"])(U,I,O,!1,null,"4f656572",null)),q=H.exports,E={data:function(){return{banners:[],recommendSongList:[],newMusic:[],newMV:[]}},created:function(){this.getBanners(),this.getRcmPlaylist(),this.getNewSong(),this.getMV()},components:{SongListItem:x,SongItem:V,MvItem:q},methods:{getBanners:function(){var t=this;axios.get("/banner").then((function(a){t.banners=a.data.banners})).catch((function(a){t.$message.error("获取资源失败")}))},getRcmPlaylist:function(){var t=this;axios.get("/personalized?limit=10").then((function(a){t.recommendSongList=a.data.result})).catch((function(a){t.$message.error("获取资源失败")}))},getNewSong:function(){var t=this;axios.get("/personalized/newsong").then((function(a){t.newMusic=a.data.result})).catch((function(a){t.$message.error("获取资源失败")}))},getMV:function(){var t=this;axios.get("/personalized/mv").then((function(a){t.newMV=a.data.result})).catch((function(a){t.$message.error("获取资源失败")}))}}},R=E,T=(e("59a5"),Object(f["a"])(R,g,C,!1,null,"027fd4ba",null)),N=T.exports,Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"hq-container"},[e("div",{staticClass:"cover"},[e("img",{attrs:{src:t.HQSongList.coverImgUrl,alt:t.HQSongList.copywriter}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"head"},[e("div",{staticClass:"tag"}),e("div",{staticClass:"title"},[t._v(t._s(t.HQSongList.name))])]),e("div",{staticClass:"desc"},[t._v(t._s(t.HQSongList.description))])]),e("div",{staticClass:"bg"},[e("img",{attrs:{src:t.HQSongList.coverImgUrl,alt:t.HQSongList.copywriter}})]),e("div",{staticClass:"mask"})]),e("div",{staticClass:"tag-container"},t._l(t.tags,(function(a,s){return e("div",{key:s,staticClass:"tag-item",on:{click:function(e){return t.tagChange(a)}}},[e("span",{class:a===t.cat?"tag-active":""},[t._v(t._s(a))])])})),0),e("div",{staticClass:"songlist-container"},t._l(t.songList,(function(t){return e("song-list-item",{key:t.id,attrs:{creator:"",songList:t}})})),1),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.currentPage},on:{"current-change":t.currentChange}})],1)])},B=[],D={data:function(){return{HQSongList:{},songList:[],limit:10,cat:"全部",offset:0,total:0,currentPage:1,tags:["全部","欧美","华语","流行","说唱","摇滚","民谣","电子","轻音乐","影视原声","ACG","怀旧","治愈","旅行"]}},methods:{getHQSongList:function(){var t=this;axios.get("/top/playlist/highquality",{params:{limit:1,cat:this.cat}}).then((function(a){t.HQSongList=a.data.playlists[0]})).catch((function(a){t.$message.error("获取资源失败")}))},getSongList:function(){var t=this;axios.get("/top/playlist/",{params:{limit:this.limit,cat:this.cat,offset:this.offset}}).then((function(a){t.songList=a.data.playlists,t.total=a.data.total})).catch((function(a){t.$message.error("获取资源失败")}))},tagChange:function(t){this.cat=t,this.currentPage=1,this.offset=0,this.getHQSongList(),this.getSongList()},currentChange:function(t){this.currentPage=t,this.offset=(t-1)*this.limit,this.getSongList()}},created:function(){this.getHQSongList(),this.getSongList()},components:{SongListItem:x}},Y=D,A=(e("fad5"),Object(f["a"])(Y,Q,B,!1,null,"8f79fede",null)),z=A.exports,J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"tag-container"},t._l(t.tags,(function(a){return e("div",{key:a.id,staticClass:"tag-item",on:{click:function(e){return t.tagChange(a)}}},[e("span",{class:a.id===t.type?"tag-active":""},[t._v(t._s(a.name))])])})),0),e("div",{staticClass:"list-container",attrs:{id:"list-container"}},[e("song-table",{attrs:{album:"",songs:t.songs}})],1)])},F=[],G=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.songs,stripe:"",border:""}},[e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{label:"歌曲","min-width":"300px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"song-container"},[t.album?e("div",{staticClass:"album-cover",on:{click:function(e){return t.playMusic(a.row)}}},[e("img",{staticClass:"album-cover",attrs:{src:a.row.album.picUrl,alt:a.row.name}}),e("i",{staticClass:"iconfont icon-play"})]):t._e(),e("span",{staticClass:"name",on:{click:function(e){return t.playMusic(a.row)}}},[t._v(" "+t._s(a.row.name)+" "),e("span",{staticClass:"alias"},[t._v(t._s(t._f("alias")(a.row.alias||a.row.alia)))])]),0!==a.row.mvid&&0!==a.row.mv?e("span",{staticClass:"mv"},[e("router-link",{class:"mvlink",attrs:{to:"/mvplay?id="+(a.row.mvid||a.row.mv)}},[e("i",{staticClass:"iconfont icon-mv"})])],1):t._e()])]}}])}),e("el-table-column",{attrs:{label:"歌手",width:"200px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("artists")(a.row.artists||a.row.ar)))])]}}])}),e("el-table-column",{attrs:{label:"专辑",width:"300px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("album")(a.row.album||a.row.al)))])]}}])}),e("el-table-column",{attrs:{label:"时长","min-width":"70px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("duration")(a.row.duration||a.row.dt)))])]}}])})],1)},K=[],W={props:{songs:{type:Array,required:!0},album:{type:Boolean,required:!1,default:!1}},methods:{playMusic:function(t){var a=this;this.getMusic(t).then((function(t){a.$store.commit("updateMusic",{music:t})}))},getMusic:function(t){var a=this;return new Promise((function(e){var s=t.id,n=t.album||t.al,i=n.id,r={title:t.name,artist:a.$options.filters.artists(t.artists||t.ar),src:"",pic:"",lrc:""};axios.get("/album?id=".concat(i)).then((function(t){return r.pic=t.data.album.picUrl||"",axios.get("/lyric?id=".concat(s))})).then((function(t){return t.data.lrc&&t.data.lrc.lyric?r.lrc=t.data.lrc.lyric:r.lrc="暂无歌词",axios.get("/song/url?id=".concat(s))})).then((function(t){r.src=t.data.data[0].url,e(r)})).catch((function(t){a.$message.error("获取资源失败")}))}))}}},X=W,Z=(e("3633"),Object(f["a"])(X,G,K,!1,null,"6ac6645c",null)),tt=Z.exports,at={data:function(){return{songs:[],tags:[{id:0,name:"全部"},{id:7,name:"华语"},{id:96,name:"欧美"},{id:8,name:"日本"},{id:16,name:"韩国"}],type:0}},mounted:function(){this.getLatestMusic()},components:{SongTable:tt},methods:{getLatestMusic:function(){var t=this,a=this.$loading({fullscreen:!1,text:"拼命加载中...",spinner:"el-icon-loading",background:"rgba(0,0,0,.5)",target:document.getElementById("list-container")});axios.get("/top/song?type=".concat(this.type)).then((function(a){t.songs=a.data.data})).finally((function(){a.close()})).catch((function(a){t.$message.error("获取资源失败")}))},tagChange:function(t){this.type=t.id,this.getLatestMusic()}}},et=at,st=(e("a530"),Object(f["a"])(et,J,F,!1,null,"af0d64dc",null)),nt=st.exports,it=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"filter-container"},[e("div",{staticClass:"container area-container"},[e("span",{staticClass:"label"},[t._v("地区:")]),t._l(t.area,(function(a,s){return e("span",{key:s,staticClass:"filter-item",class:a===t.params.area?"tag-active":"",on:{click:function(e){return t.areaChange(a)}}},[t._v(t._s(a))])}))],2),e("div",{staticClass:"container type-container"},[e("span",{staticClass:"label"},[t._v("类型:")]),t._l(t.type,(function(a,s){return e("span",{key:s,staticClass:"filter-item",class:a===t.params.type?"tag-active":"",on:{click:function(e){return t.typeChange(a)}}},[t._v(t._s(a))])}))],2),e("div",{staticClass:"container order-container"},[e("span",{staticClass:"label"},[t._v("排序:")]),t._l(t.order,(function(a,s){return e("span",{key:s,staticClass:"filter-item",class:a===t.params.order?"tag-active":"",on:{click:function(e){return t.orderChange(a)}}},[t._v(t._s(a))])}))],2)]),e("div",{staticClass:"mv-container"},[e("div",{staticClass:"MVList"},t._l(t.mvList,(function(t){return e("mv-item",{key:t.id,attrs:{mv:t}})})),1)]),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.currentPage},on:{"current-change":t.currentChange}})],1)])},rt=[],ot={data:function(){return{mvList:[],total:0,params:{area:"全部",type:"全部",order:"上升最快",limit:12,offset:0},currentPage:1,area:["全部","内地","港台","欧美","日本","韩国"],type:["全部","官方版","原生","现场版","网易出品"],order:["上升最快","最热","最新"]}},created:function(){this.getLatestMV()},methods:{getLatestMV:function(){var t=this;axios.get("/mv/all",{params:this.params}).then((function(a){a.data.count&&(t.total=a.data.count),t.mvList=a.data.data})).catch((function(a){t.$message.error("获取资源失败")}))},areaChange:function(t){this.params.area=t,this.currentPage=1,this.params.offset=0,this.getLatestMV()},typeChange:function(t){this.params.type=t,this.currentPage=1,this.params.offset=0,this.getLatestMV()},orderChange:function(t){this.params.order=t,this.currentPage=1,this.params.offset=0,this.getLatestMV()},currentChange:function(t){this.currentPage=t,this.params.offset=(t-1)*this.params.limit,this.getLatestMV()}},components:{MvItem:q}},ct=ot,lt=(e("20ff"),Object(f["a"])(ct,it,rt,!1,null,"382c5df8",null)),ut=lt.exports,mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container"},[e("header",{staticClass:"tips"},[t._v(" 搜索 "),e("span",{staticClass:"keywords"},[t._v('"'+t._s(this.params.keywords)+'"')]),t._v(" , 找到 "+t._s(t.total)+" "+t._s(t.type)+" ")]),e("div",{staticClass:"type-container"},[e("el-tabs",{on:{"tab-click":t.typeChange},model:{value:t.params.type,callback:function(a){t.$set(t.params,"type",a)},expression:"params.type"}},[e("el-tab-pane",{attrs:{label:"歌曲",name:"1"}},[e("el-card",{attrs:{shadow:"always"}},[e("song-table",{attrs:{songs:t.songs}})],1)],1),e("el-tab-pane",{attrs:{label:"歌单",name:"1000"}},[e("el-card",{attrs:{shadow:"always"}},[e("div",{staticClass:"songlist-container"},t._l(t.playLists,(function(t){return e("song-list-item",{key:t.id,attrs:{creator:"",songList:t}})})),1)])],1),e("el-tab-pane",{attrs:{label:"MV",name:"1004"}},[e("el-card",{attrs:{shadow:"always"}},[e("div",{staticClass:"MVList"},t._l(t.mvs,(function(t){return e("mv-item",{key:t.id,attrs:{duration:"",mv:t}})})),1)])],1)],1)],1),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.currentPage},on:{"current-change":t.currentChange}})],1)])},dt=[],ft=(e("4de4"),{data:function(){return{total:0,type:"单曲",params:{keywords:"",limit:20,offset:0,type:"1"},songs:[],playLists:[],mvs:[],currentPage:1}},components:{SongTable:tt,SongListItem:x,MvItem:q},created:function(){this.params.keywords=this.$route.query.keywords,this.getSearchResult()},methods:{getSearchResult:function(){var t=this;axios.get("/search",{params:this.params}).then((function(a){var e=t.params.type;"1"==e?(t.songs=a.data.result.songs.filter((function(t){return 1!==t.fee})),t.total=t.songs.length):"1000"==e?(t.total=a.data.result.playlistCount,t.playLists=a.data.result.playlists):"1004"==e&&(t.total=a.data.result.mvCount,t.mvs=a.data.result.mvs)})).catch((function(a){t.$message.error("获取资源失败")}))},typeChange:function(t){this.params.type=t.name,this.currentPage=1,this.params.offset=0;var a=t.name;"1"==a?(this.type="首歌曲",this.params.limit=20):"1000"==a?(this.type="个歌单",this.params.limit=15):"1004"==a&&(this.type="个MV",this.params.limit=12),this.getSearchResult()},currentChange:function(t){this.currentPage=t,this.params.offset=(t-1)*this.params.limit,this.getSearchResult()}},beforeRouteUpdate:function(t,a,e){t.name===a.name&&t.query.keyword!==a.query.keyword&&(this.params.keywords=t.query.keyword,this.params.limit=20,this.params.offset=0,this.params.type="1",this.total=0,this.type="单曲",this.currentPage=1,this.songs=[],this.getSearchResult()),e()}}),pt=ft,vt=(e("a28d"),Object(f["a"])(pt,mt,dt,!1,null,"2d0a27ea",null)),ht=vt.exports,gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"info-container"},[e("div",{staticClass:"cover"},[e("img",{attrs:{src:t.playlist.coverImgUrl,alt:t.playlist.name}})]),e("div",{staticClass:"right-info"},[e("div",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),e("div",{staticClass:"create-info"},[e("img",{staticClass:"avatar",attrs:{src:t.playlist.creator.avatarUrl,alt:t.playlist.creator.nickname}}),e("span",{staticClass:"nickname"},[t._v(t._s(t.playlist.creator.nickname))]),e("span",{staticClass:"create-time"},[t._v(t._s(t._f("createTime")(t.playlist.createTime))+"创建")])]),e("div",{staticClass:"tags"},[t._v(" 标签: "),t._l(t.playlist.tags,(function(a,s){return e("span",{key:s},[t._v(t._s(a))])}))],2),e("div",{staticClass:"desc"},[e("span",{staticClass:"label"},[t._v("简介:")]),t._v(" "+t._s(t.playlist.description)+" ")])])]),e("div",{staticClass:"type-container"},[e("el-tabs",{model:{value:t.type,callback:function(a){t.type=a},expression:"type"}},[e("el-tab-pane",{attrs:{label:"歌曲列表",name:"song"}},[e("el-card",{attrs:{shadow:"always"}},[e("div",{attrs:{id:"songlist-container"}},[e("song-table",{attrs:{songs:t.songs}})],1)])],1),e("el-tab-pane",{attrs:{label:"评论",name:"comment"}},[e("el-card",{attrs:{shadow:"always"}},[t.hotComments.length>0?e("div",{staticClass:"hotc-container"},[e("header",[t._v("精彩评论")]),t._l(t.hotComments,(function(t){return e("comment",{key:t.commentId,attrs:{comment:t}})}))],2):t._e(),e("header",[t._v("最新评论("+t._s(t.total)+")")]),t._l(t.latestComments,(function(t){return e("comment",{key:t.commentId,attrs:{comment:t}})})),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.currentPage},on:{"current-change":t.currentChange}})],1)],2)],1)],1)],1)])},Ct=[],yt=(e("4160"),e("159b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"avatar-container"},[e("img",{attrs:{src:t.comment.user.avatarUrl,alt:t.comment.user.nickname}})]),e("div",{staticClass:"right-info"},[e("div",{staticClass:"comment-container"},[e("span",{staticClass:"username"},[t._v(t._s(t.comment.user.nickname)+":")]),t._v(" "+t._s(t.comment.content)+" ")]),t.comment.beReplied.length>0?e("div",{staticClass:"reply-container"},[e("span",{staticClass:"username"},[t._v("@"+t._s(t.comment.beReplied[0].user.nickname)+":")]),t._v(" "+t._s(t.comment.beReplied[0].content)+" ")]):t._e(),e("div",{staticClass:"time-info"},[t._v(t._s(t._f("commentTime")(t.comment.time)))])])])}),_t=[],bt={props:{comment:Object}},wt=bt,kt=(e("5ac5"),Object(f["a"])(wt,yt,_t,!1,null,"06137ad1",null)),xt=kt.exports,Lt={components:{SongTable:tt,Comment:xt},data:function(){return{plid:0,playlist:{},songs:[],type:"song",hotCommentParams:{id:0,type:2,limit:10,offset:0},hotComments:[],latestCommentParams:{id:0,limit:10,offset:0},latestComments:[],total:0,currentPage:0}},mounted:function(){var t=this.$route.query.id;this.plid=t,this.hotCommentParams.id=t,this.latestCommentParams.id=t,this.getHotComment(),this.getLatestComment(),this.getPlayListDetail()},methods:{getPlayListDetail:function(){var t=this;axios.get("/playlist/detail?id=".concat(this.plid)).then((function(a){t.playlist=a.data.playlist;var e=a.data.playlist.trackIds,s="";e.forEach((function(t){s=s+t.id+","})),s=s.substring(0,s.length-1),t.getSongs(s)})).catch((function(a){t.$message.error("获取资源失败")}))},getSongs:function(t){var a=this;this.$nextTick((function(){setTimeout((function(){var e=a.$loading({fullscreen:!1,text:"拼命加载中...",spinner:"el-icon-loading",background:"rgba(0,0,0,.5)",target:document.getElementById("songlist-container")});axios.get("/song/detail?ids=".concat(t)).then((function(t){a.songs=t.data.songs.filter((function(t){return 1!==t.fee})),a.total=a.songs.length})).finally((function(){e.close()})).catch((function(t){a.$message.error("获取资源失败")}))}),1)}))},getHotComment:function(){var t=this;axios.get("/comment/hot",{params:this.hotCommentParams}).then((function(a){t.hotComments=a.data.hotComments}))},getLatestComment:function(){var t=this;axios.get("/comment/playlist",{params:this.latestCommentParams}).then((function(a){t.total=a.data.total,t.latestComments=a.data.comments}))},currentChange:function(t){this.currentPage=t,this.latestCommentParams.offset=(t-1)*this.latestCommentParams.limit,this.getLatestComment()}}},Mt=Lt,Pt=(e("4056"),Object(f["a"])(Mt,gt,Ct,!1,null,"2efad52f",null)),St=Pt.exports,$t=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container mv-container"},[e("div",{staticClass:"left-container"},[e("div",{staticClass:"video-container"},[e("header",[e("span",{staticClass:"title"},[t._v(t._s(t.mvInfo.name))]),e("span",{staticClass:"artists"},[t._v(t._s(t.mvInfo.artistName))])]),e("video",{attrs:{src:t.mvUrl,controls:"",autoplay:""}}),e("div",{staticClass:"comment-container"},[e("el-card",{attrs:{shadow:"always"}},[t.hotComments.length>0?e("div",{staticClass:"hotc-container"},[e("header",[t._v("精彩评论")]),t._l(t.hotComments,(function(t){return e("comment",{key:t.commentId,attrs:{comment:t}})}))],2):t._e(),e("header",[t._v("最新评论("+t._s(t.total)+")")]),t._l(t.latestComments,(function(t){return e("comment",{key:t.commentId,attrs:{comment:t}})})),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.currentPage},on:{"current-change":t.currentChange}})],1)],2)],1)])]),e("div",{staticClass:"right-container"},[e("div",{staticClass:"mv-info"},[e("header",[t._v("MV介绍")]),e("div",{staticClass:"basic-info"},[e("span",{staticClass:"publishtime"},[t._v("发布时间: "+t._s(t.mvInfo.publishTime))]),e("span",{staticClass:"views"},[t._v("播放次数: "+t._s(t._f("views")(t.mvInfo.playCount))+"次")])]),e("div",{staticClass:"desc"},[t._v("简介: "+t._s(t.mvInfo.desc))]),e("div",{staticClass:"tags"},[t._v(" 标签: "),t._l(t.mvInfo.videoGroup,(function(a){return e("span",{key:a.id,staticClass:"tag"},[t._v(t._s(a.name))])}))],2)]),e("div",{staticClass:"rcm-container"},[e("header",[t._v("相关推荐")]),e("div",{staticClass:"rcm-items"},t._l(t.rcmMV,(function(t){return e("mv-item",{key:t.id,staticClass:"mv-item",attrs:{mv:t}})})),1)])])])},Vt=[],It={components:{MvItem:q,Comment:xt},data:function(){return{mvid:0,mvUrl:"",mvInfo:{},rcmMV:[],commentParams:{id:0,limit:10,offset:0},hotComments:[],latestComments:[],total:0,currentPage:0}},created:function(){this.mvid=this.$route.query.id,this.commentParams.id=this.$route.query.id,this.getMVURL(),this.getMVInfo(),this.getRcmMV(),this.getComment()},beforeRouteUpdate:function(t,a,e){t.name===a.name&&t.query.id!==a.query.id&&(this.mvid=t.query.id,this.commentParams.limit=10,this.commentParams.offset=0,this.commentParams.id=t.query.id,this.total=0,this.hotComments=[],this.latestComments=[],this.mvUrl="",this.mvInfo={},this.rcmMV=[],this.currentPage=1,this.getMVURL(),this.getMVInfo(),this.getRcmMV(),this.getComment()),e()},methods:{getMVURL:function(){var t=this;axios.get("/mv/url?id=".concat(this.mvid)).then((function(a){t.mvUrl=a.data.data.url}))},getMVInfo:function(){var t=this;axios.get("/mv/detail?mvid=".concat(this.mvid)).then((function(a){t.mvInfo=a.data.data}))},getRcmMV:function(){var t=this;axios.get("/simi/mv?mvid=".concat(this.mvid)).then((function(a){t.rcmMV=a.data.mvs}))},getComment:function(){var t=this;axios.get("/comment/mv",{params:this.commentParams}).then((function(a){t.total=a.data.total,a.data.hotComments&&(t.hotComments=a.data.hotComments),t.latestComments=a.data.comments})).catch((function(a){t.$message.error("获取资源失败")}))},currentChange:function(t){this.currentPage=t,this.commentParams.offset=(t-1)*this.commentParams.limit,this.getComment()}}},Ot=It,jt=(e("799a"),Object(f["a"])(Ot,$t,Vt,!1,null,"fc9773a8",null)),Ut=jt.exports;n.a.use(h["a"]);var Ht=[{path:"/",name:"Home",redirect:"/discover"},{path:"/discover",name:"discover",component:N},{path:"/songList",name:"songList",component:z},{path:"/latest",name:"latest",component:nt},{path:"/mv",name:"mv",component:ut},{path:"/search",name:"search",component:ht},{path:"/playlist",name:"playlist",component:St},{path:"/mvplay",name:"mvplay",component:Ut}],qt=new h["a"]({routes:Ht}),Et=qt;n.a.use(c.a);var Rt=new c.a.Store({state:{music:{title:"当前暂无音乐正在播放",artist:"放一首喜欢的歌吧",src:"",pic:"",lrc:""}},mutations:{updateMusic:function(t,a){t.music=a.music}},actions:{},modules:{}}),Tt=e("cebe"),Nt=e.n(Tt),Qt=e("1af2"),Bt=e.n(Qt),Dt={baseURL:"https://autumnfish.cn",timeout:6e4,withCredentials:!0},Yt=Nt.a.create(Dt);Yt.interceptors.request.use((function(t){return Bt.a.start(),t}),(function(t){return Promise.reject(t)})),Yt.interceptors.response.use((function(t){return Bt.a.done(),t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,a){t.axios=Yt,window.axios=Yt,Object.defineProperties(t.prototype,{axios:{get:function(){return Yt}},$axios:{get:function(){return Yt}}})},n.a.use(Plugin);Plugin,e("a9e3");var At=e("c32d"),zt=e.n(At);zt.a.locale("zh-cn"),n.a.filter("views",(function(t){return t=Number(t),t>=1e4?Math.ceil(t/1e4)+"万":t})),n.a.filter("artists",(function(t){var a="";return t.forEach((function(t){a=a+t.name+" / "})),a=a.substring(0,a.length-2),a})),n.a.filter("alias",(function(t){return 0===t.length?"":"( ".concat(t[0]," )")})),n.a.filter("album",(function(t){return t.name})),n.a.filter("duration",(function(t){return t=Number(t),zt()(t).format("mm:ss")})),n.a.filter("createTime",(function(t){return t=Number(t),zt()(t).format("YYYY-MM-DD")})),n.a.filter("commentTime",(function(t){t=Number(t);var a=zt()(),e=zt()({hour:0}),s=zt()({month:0});return a.diff(t)<36e5?zt()(t).fromNow():zt()(t).isAfter(e)?zt()(t).format("HH:MM"):zt()(t).isAfter(s)?zt()(t).format("M月D日 HH:MM"):zt()(t).format("YYYY年M月D日 HH:MM")})),n.a.config.productionTip=!1,new n.a({router:Et,store:Rt,render:function(t){return t(v)}}).$mount("#app")},5880:function(t,a){t.exports=Vuex},"59a5":function(t,a,e){"use strict";var s=e("8aed"),n=e.n(s);n.a},"5ac5":function(t,a,e){"use strict";var s=e("f65c"),n=e.n(s);n.a},"5c0b":function(t,a,e){"use strict";var s=e("9c0c"),n=e.n(s);n.a},7229:function(t,a,e){},"799a":function(t,a,e){"use strict";var s=e("f1e7"),n=e.n(s);n.a},"89f3":function(t,a,e){},"8aed":function(t,a,e){},"8bbf":function(t,a){t.exports=Vue},9994:function(t,a,e){},"9c0c":function(t,a,e){},a28d:function(t,a,e){"use strict";var s=e("b7fa"),n=e.n(s);n.a},a40c:function(t,a,e){},a530:function(t,a,e){"use strict";var s=e("d7cc"),n=e.n(s);n.a},b7fa:function(t,a,e){},c32d:function(t,a){t.exports=moment},cebe:function(t,a){t.exports=axios},d2a8:function(t,a,e){},d7cc:function(t,a,e){},dd2c:function(t,a,e){"use strict";var s=e("7229"),n=e.n(s);n.a},f1e7:function(t,a,e){},f65c:function(t,a,e){},fad5:function(t,a,e){"use strict";var s=e("44f4"),n=e.n(s);n.a}});